{
  "stage": 1,
  "stage_name": "Basic Chat Interface",
  "phase": 4,
  "phase_name": "Git Integration Phase",
  "assigned_to": ["QA-Agent", "PM-Architect-Agent"],
  "status": "pending",
  "started_at": null,
  "completed_at": null,
  "updated_at": null,

  "inputs": [
    {
      "id": "i1",
      "description": "Approved code files from Review Phase",
      "checked": false,
      "verified_by": null,
      "verified_at": null,
      "source_phase": 3,
      "artifact": ".claude-bus/code/Stage1-*/ (with approved status)"
    },
    {
      "id": "i2",
      "description": "Review metadata and approval records",
      "checked": false,
      "verified_by": null,
      "verified_at": null,
      "source_phase": 3,
      "artifact": ".claude-bus/reviews/Stage1-review-*.json"
    },
    {
      "id": "i3",
      "description": "Quality metrics from QA",
      "checked": false,
      "verified_by": null,
      "verified_at": null,
      "source_phase": 3,
      "artifact": ".claude-bus/metrics/"
    },
    {
      "id": "i4",
      "description": "Git commit authorization manifest",
      "checked": false,
      "verified_by": null,
      "verified_at": null,
      "source_phase": 3,
      "artifact": ".claude-bus/git/Stage1-git-authorization.json",
      "notes": "List of all files approved for commit"
    },
    {
      "id": "i5",
      "description": "Test execution results from Review Phase",
      "checked": false,
      "verified_by": null,
      "verified_at": null,
      "source_phase": 3,
      "artifact": ".claude-bus/test-results/",
      "notes": "Unit test results to include in commit documentation"
    },
    {
      "id": "i6",
      "description": "Milestone status (is this a version milestone?)",
      "checked": false,
      "verified_by": null,
      "verified_at": null,
      "notes": "Determines if version tag should be created"
    }
  ],

  "outputs": [
    {
      "id": "o1",
      "description": "Code moved from sandbox to src/ directory",
      "checked": false,
      "completed_by": null,
      "completed_at": null,
      "location": "backend/, frontend/ (main codebase)"
    },
    {
      "id": "o2",
      "description": "Git commits created with conventional format",
      "checked": false,
      "completed_by": null,
      "completed_at": null,
      "notes": "Format: feat|fix|refactor|docs: [description]"
    },
    {
      "id": "o3",
      "description": "Version tags created (if milestone)",
      "checked": false,
      "completed_by": null,
      "completed_at": null,
      "notes": "Format: v0.1.0, v0.2.0, etc."
    },
    {
      "id": "o4",
      "description": "Commit logs recorded",
      "checked": false,
      "completed_by": null,
      "completed_at": null,
      "location": ".claude-bus/git/commit-log.jsonl"
    },
    {
      "id": "o5",
      "description": "Release notes generated (if milestone)",
      "checked": false,
      "completed_by": null,
      "completed_at": null,
      "location": ".claude-bus/git/release-notes.md"
    }
  ],

  "verification": [
    {
      "id": "v1",
      "check": "All approved files successfully moved to src/",
      "required": true
    },
    {
      "id": "v2",
      "check": "Git commits follow conventional commit format",
      "required": true
    },
    {
      "id": "v3",
      "check": "Commit messages are descriptive and reference task IDs",
      "required": true
    },
    {
      "id": "v4",
      "check": "No merge conflicts exist",
      "required": true
    },
    {
      "id": "v5",
      "check": "Version tags follow semantic versioning (if applicable)",
      "required": false
    },
    {
      "id": "v6",
      "check": "Sandbox (.claude-bus/code/) cleaned up after successful commit",
      "required": true
    }
  ],

  "commit_triggers": {
    "feature_complete": "Individual feature/task completion → feature commit",
    "milestone_complete": "Stage milestone reached → version tag + release notes",
    "checkpoint": "End of work session → checkpoint commit",
    "hotfix": "Critical bug fix → hotfix commit"
  },

  "rollback_handling": {
    "rollback_path": "If git operations fail, revert to sandbox and report to PM-Architect",
    "backup_location": ".claude-bus/code-backup/ (pre-commit snapshot)",
    "notes": "Always create backup before moving files to src/"
  },

  "progress": {
    "inputs_completed": 0,
    "inputs_total": 6,
    "outputs_completed": 0,
    "outputs_total": 5,
    "percentage": 0
  },

  "blockers": [],

  "notes": "QA-Agent handles git operations after PM-Architect approval. Code moves from .claude-bus/code/ sandbox to actual src/ directories only after all checks pass. Commit messages include task IDs for traceability."
}
