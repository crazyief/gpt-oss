<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Local AI Chatroom - Complete Project Architecture Documentation">
    <meta name="ai-readable" content="true">
    <meta name="project-type" content="Multi-Agent AI Development with MCP Message Bus">
    <title>Local AI Chatroom - Project Architecture</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #2c3e50;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 2rem;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(135deg, #6b73ff 0%, #000dff 100%);
            color: white;
            padding: 3rem;
            text-align: center;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }
        
        .subtitle {
            font-size: 1.1rem;
            opacity: 0.95;
        }
        
        .content {
            padding: 2rem 3rem;
        }
        
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }
        
        .section {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 1.5rem;
            border-left: 4px solid #667eea;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .section:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }
        
        h2 {
            color: #667eea;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        h3 {
            color: #764ba2;
            margin: 1.5rem 0 1rem 0;
            font-size: 1.2rem;
        }
        
        .icon {
            font-size: 1.5rem;
        }
        
        ul {
            list-style: none;
            padding-left: 0;
        }
        
        li {
            padding: 0.5rem 0;
            border-bottom: 1px solid #e0e0e0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        li:last-child {
            border-bottom: none;
        }
        
        .tech-badge {
            display: inline-block;
            background: #667eea;
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.85rem;
            margin: 0.25rem;
        }
        
        .architecture-diagram {
            background: #2c3e50;
            color: #00ff00;
            padding: 2rem;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
            margin: 1rem 0;
            box-shadow: inset 0 2px 10px rgba(0, 0, 0, 0.5);
        }
        
        .code-block {
            background: #1a1a2e;
            color: #eee;
            padding: 1.5rem;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
            margin: 1rem 0;
            border: 1px solid #333;
        }
        
        .json-example {
            background: #282c34;
            color: #abb2bf;
            padding: 1rem;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            overflow-x: auto;
            margin: 0.5rem 0;
        }
        
        .json-key {
            color: #e06c75;
        }
        
        .json-value {
            color: #98c379;
        }
        
        .json-number {
            color: #d19a66;
        }
        
        pre {
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        
        .status-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .status-card {
            background: white;
            border-radius: 8px;
            padding: 1rem;
            text-align: center;
            border: 2px solid #e0e0e0;
        }
        
        .status-number {
            font-size: 2rem;
            font-weight: bold;
            color: #667eea;
        }
        
        .status-label {
            color: #7f8c8d;
            font-size: 0.9rem;
        }
        
        .agent-card {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 1rem;
            border-radius: 8px;
            margin: 0.5rem 0;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .agent-model {
            font-size: 0.85rem;
            opacity: 0.9;
        }
        
        .api-endpoint {
            background: #2c3e50;
            color: #4ade80;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            margin: 0.5rem 0;
            font-family: 'Courier New', monospace;
            display: flex;
            justify-content: space-between;
        }
        
        .method {
            color: #fbbf24;
            font-weight: bold;
        }
        
        .message-bus-section {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
            border: 2px solid #667eea;
        }
        
        .flow-diagram {
            background: white;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1rem 0;
            border: 1px solid #dee2e6;
        }
        
        .highlight {
            background: #fff3cd;
            padding: 0.2rem 0.4rem;
            border-radius: 3px;
            font-weight: bold;
        }
        
        .warning-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 4px;
        }
        
        .info-box {
            background: #d1ecf1;
            border-left: 4px solid #0dcaf0;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 4px;
        }
        
        .footer {
            background: #2c3e50;
            color: white;
            padding: 2rem;
            text-align: center;
        }
        
        .meta-info {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-top: 1rem;
            flex-wrap: wrap;
        }
        
        .meta-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸš€ Local AI Chatroom</h1>
            <div class="subtitle">Multi-Agent Development Architecture with MCP Message Bus</div>
        </header>
        
        <div class="content">
            <!-- MCP Message Bus Detailed Explanation -->
            <div class="message-bus-section">
                <h2><span class="icon">ğŸ“¨</span> MCP Message Bus å®Œæ•´æ¶æ§‹èªªæ˜</h2>
                
                <div class="info-box">
                    <strong>ğŸ’¡ ä»€éº¼æ˜¯ MCP Message Busï¼Ÿ</strong><br>
                    MCP (Model Context Protocol) Message Bus æ˜¯ä¸€å€‹åŸºæ–¼æª”æ¡ˆç³»çµ±çš„éåŒæ­¥è¨Šæ¯å‚³éæ©Ÿåˆ¶ï¼Œ
                    è®“å¤šå€‹ AI Agent èƒ½åœ¨åŒä¸€å€‹ Claude session ä¸­å”åŒå·¥ä½œï¼Œé¿å…è¡çªä¸¦ä¿æŒç‹€æ…‹åŒæ­¥ã€‚
                </div>

                <h3>ğŸ—ï¸ æ ¸å¿ƒè¨­è¨ˆåŸå‰‡</h3>
                <ul>
                    <li>âœ… <strong>Append-only äº‹ä»¶æµ</strong>ï¼šé¿å…å¯«å…¥è¡çª</li>
                    <li>âœ… <strong>ç¨ç«‹æª”æ¡ˆå„²å­˜</strong>ï¼šæ¯å€‹ä»»å‹™/è¨Šæ¯ä¸€å€‹æª”æ¡ˆ</li>
                    <li>âœ… <strong>ç´”æª”æ¡ˆç³»çµ±</strong>ï¼šä¸éœ€è¦è³‡æ–™åº«ï¼Œç¬¦åˆ KISS åŸå‰‡</li>
                    <li>âœ… <strong>éé˜»å¡å»£æ’­</strong>ï¼šAgent ä¸¦è¡Œå·¥ä½œï¼Œä¸ç­‰å¾…å›æ‡‰</li>
                </ul>

                <h3>ğŸ“ ç›®éŒ„çµæ§‹è©³è§£</h3>
                <div class="architecture-diagram">
                    <pre>
.claude-bus/
â”œâ”€â”€ planning/          # è¦åŠƒæ–‡æª”
â”‚   â”œâ”€â”€ requirements.md        # éœ€æ±‚æ–‡æª”
â”‚   â”œâ”€â”€ user-stories.json      # ä½¿ç”¨è€…æ•…äº‹
â”‚   â”œâ”€â”€ tech-spec.md           # æŠ€è¡“è¦ç¯„
â”‚   â””â”€â”€ architecture.md        # æ¶æ§‹è¨­è¨ˆ
â”‚
â”œâ”€â”€ tasks/            # ä»»å‹™ç®¡ç†ï¼ˆæœ€é‡è¦ï¼‰
â”‚   â”œâ”€â”€ task-001.json         # å€‹åˆ¥ä»»å‹™æª”æ¡ˆ
â”‚   â”œâ”€â”€ task-002.json         # é¿å…åŒæ™‚ç·¨è¼¯è¡çª
â”‚   â””â”€â”€ task-xxx.json         # è‡ªå‹•éå¢ç·¨è™Ÿ
â”‚
â”œâ”€â”€ events.jsonl      # äº‹ä»¶æµï¼ˆåªèƒ½ appendï¼‰
â”‚   # æ¯è¡Œä¸€å€‹ JSON äº‹ä»¶ï¼Œæ°¸ä¸ä¿®æ”¹å·²å­˜åœ¨çš„è¡Œ
â”‚
â”œâ”€â”€ agents/           # Agent ç‹€æ…‹ç®¡ç†
â”‚   â”œâ”€â”€ pm.json              # PM-Agent ç‹€æ…‹
â”‚   â”œâ”€â”€ backend.json         # Backend-Agent ç‹€æ…‹
â”‚   â”œâ”€â”€ frontend.json        # Frontend-Agent ç‹€æ…‹
â”‚   â””â”€â”€ super.json           # Super-Agent ç‹€æ…‹
â”‚
â”œâ”€â”€ help/             # æ±‚åŠ©è«‹æ±‚
â”‚   â”œâ”€â”€ request-001.json     # éœ€è¦ Super-Agent å”åŠ©
â”‚   â””â”€â”€ resolved/            # å·²è§£æ±ºçš„å•é¡Œ
â”‚
â”œâ”€â”€ messages/         # Agent é–“è¨Šæ¯
â”‚   â”œâ”€â”€ pm-to-backend-001.json
â”‚   â”œâ”€â”€ backend-to-qa-002.json
â”‚   â””â”€â”€ broadcast-003.json
â”‚
â””â”€â”€ outputs/          # è¼¸å‡ºæˆæœ
    â”œâ”€â”€ api-spec.yaml        # API è¦ç¯„
    â”œâ”€â”€ database-schema.sql  # è³‡æ–™åº«çµæ§‹
    â””â”€â”€ deployment.md        # éƒ¨ç½²æ–‡æª”
                    </pre>
                </div>

                <h3>ğŸ“„ æª”æ¡ˆæ ¼å¼ç¯„ä¾‹</h3>
                
                <h4>1. ä»»å‹™æª”æ¡ˆ (tasks/task-001.json)</h4>
                <div class="json-example">
{
  <span class="json-key">"id"</span>: <span class="json-value">"task-001"</span>,
  <span class="json-key">"title"</span>: <span class="json-value">"å»ºç«‹ FastAPI åŸºç¤æ¡†æ¶"</span>,
  <span class="json-key">"description"</span>: <span class="json-value">"è¨­ç½® FastAPI å°ˆæ¡ˆçµæ§‹ï¼ŒåŒ…å«åŸºæœ¬è·¯ç”±å’Œä¸­é–“ä»¶"</span>,
  <span class="json-key">"assignee"</span>: <span class="json-value">"Backend-Agent"</span>,
  <span class="json-key">"status"</span>: <span class="json-value">"in-progress"</span>,  <span class="comment">// pending | in-progress | completed | blocked</span>
  <span class="json-key">"priority"</span>: <span class="json-value">"high"</span>,        <span class="comment">// critical | high | medium | low</span>
  <span class="json-key">"dependencies"</span>: [<span class="json-value">"task-000"</span>],
  <span class="json-key">"created_at"</span>: <span class="json-value">"2025-01-15T10:00:00Z"</span>,
  <span class="json-key">"updated_at"</span>: <span class="json-value">"2025-01-15T11:30:00Z"</span>,
  <span class="json-key">"estimated_hours"</span>: <span class="json-number">4</span>,
  <span class="json-key">"actual_hours"</span>: <span class="json-number">2</span>,
  <span class="json-key">"notes"</span>: <span class="json-value">"éœ€è¦æ”¯æ´ WebSocket å’Œ CORS"</span>,
  <span class="json-key">"output_files"</span>: [
    <span class="json-value">"backend/app/main.py"</span>,
    <span class="json-value">"backend/app/api/routes.py"</span>
  ]
}
                </div>

                <h4>2. äº‹ä»¶æµ (events.jsonl) - æ¯è¡Œä¸€å€‹äº‹ä»¶</h4>
                <div class="json-example">
{"timestamp": "2025-01-15T10:00:00Z", "agent": "PM", "event": "task_created", "task_id": "task-001"}
{"timestamp": "2025-01-15T10:05:00Z", "agent": "Backend", "event": "task_claimed", "task_id": "task-001"}
{"timestamp": "2025-01-15T11:30:00Z", "agent": "Backend", "event": "task_progress", "task_id": "task-001", "message": "API çµæ§‹å®Œæˆ 50%"}
{"timestamp": "2025-01-15T12:00:00Z", "agent": "Backend", "event": "help_requested", "task_id": "task-001", "issue": "WebSocket é€£ç·šä¸ç©©å®š"}
{"timestamp": "2025-01-15T12:15:00Z", "agent": "Super", "event": "help_provided", "task_id": "task-001", "solution": "ä½¿ç”¨ heartbeat æ©Ÿåˆ¶"}
                </div>

                <h4>3. Agent ç‹€æ…‹ (agents/pm.json)</h4>
                <div class="json-example">
{
  <span class="json-key">"agent_id"</span>: <span class="json-value">"PM-001"</span>,
  <span class="json-key">"status"</span>: <span class="json-value">"active"</span>,    <span class="comment">// active | idle | busy | error</span>
  <span class="json-key">"mode"</span>: <span class="json-value">"auto"</span>,        <span class="comment">// auto | manual | hybrid</span>
  <span class="json-key">"current_task"</span>: <span class="json-value">"coordinating"</span>,
  <span class="json-key">"tasks_assigned"</span>: <span class="json-number">15</span>,
  <span class="json-key">"tasks_completed"</span>: <span class="json-number">8</span>,
  <span class="json-key">"last_active"</span>: <span class="json-value">"2025-01-15T12:30:00Z"</span>,
  <span class="json-key">"metrics"</span>: {
    <span class="json-key">"efficiency"</span>: <span class="json-number">0.85</span>,
    <span class="json-key">"response_time_avg"</span>: <span class="json-value">"2.5s"</span>
  }
}
                </div>

                <h4>4. æ±‚åŠ©è«‹æ±‚ (help/request-001.json)</h4>
                <div class="json-example">
{
  <span class="json-key">"request_id"</span>: <span class="json-value">"help-001"</span>,
  <span class="json-key">"requester"</span>: <span class="json-value">"Backend-Agent"</span>,
  <span class="json-key">"task_id"</span>: <span class="json-value">"task-001"</span>,
  <span class="json-key">"issue_type"</span>: <span class="json-value">"technical"</span>,  <span class="comment">// technical | design | performance | bug</span>
  <span class="json-key">"description"</span>: <span class="json-value">"WebSocket é€£ç·šåœ¨ 5 ç§’å¾Œè‡ªå‹•æ–·é–‹ï¼Œæ‡·ç–‘æ˜¯ heartbeat å•é¡Œ"</span>,
  <span class="json-key">"priority"</span>: <span class="json-value">"urgent"</span>,
  <span class="json-key">"created_at"</span>: <span class="json-value">"2025-01-15T12:00:00Z"</span>,
  <span class="json-key">"context"</span>: {
    <span class="json-key">"error_log"</span>: <span class="json-value">"Connection closed: 1006"</span>,
    <span class="json-key">"attempted_solutions"</span>: [
      <span class="json-value">"å¢åŠ  timeout åˆ° 30s"</span>,
      <span class="json-value">"èª¿æ•´ ping interval"</span>
    ]
  }
}
                </div>

                <h3>ğŸ”„ å·¥ä½œæµç¨‹åœ–</h3>
                <div class="flow-diagram">
                    <div class="architecture-diagram">
                        <pre>
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ä½¿ç”¨è€…éœ€æ±‚                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     PM-Agent (èª¿åº¦ä¸­å¿ƒ)                      â”‚
â”‚  1. åˆ†è§£éœ€æ±‚ â†’ å»ºç«‹ä»»å‹™æª”æ¡ˆ (tasks/*.json)                   â”‚
â”‚  2. åˆ†é…ä»»å‹™ â†’ æ›´æ–° Agent ç‹€æ…‹ (agents/*.json)               â”‚
â”‚  3. è¨˜éŒ„äº‹ä»¶ â†’ è¿½åŠ åˆ° events.jsonl                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Backend-Agent      â”‚    â”‚   Frontend-Agent     â”‚
â”‚  è®€å–: tasks/*.json  â”‚    â”‚  è®€å–: tasks/*.json  â”‚
â”‚  åŸ·è¡Œ: API é–‹ç™¼      â”‚    â”‚  åŸ·è¡Œ: UI é–‹ç™¼       â”‚
â”‚  æ›´æ–°: ä»»å‹™ç‹€æ…‹      â”‚    â”‚  æ›´æ–°: ä»»å‹™ç‹€æ…‹      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    é‡åˆ°å›°é›£ï¼Ÿ                                â”‚
â”‚         å»ºç«‹æ±‚åŠ©è«‹æ±‚ â†’ help/request-xxx.json                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Super-Agent (Opus 4.1)                      â”‚
â”‚         è®€å–: help/*.json â†’ æä¾›è§£æ±ºæ–¹æ¡ˆ                     â”‚
â”‚         æ›´æ–°: ä»»å‹™ç‹€æ…‹ â†’ è§£é™¤é˜»å¡                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        </pre>
                    </div>
                </div>

                <h3>ğŸ¯ ä½¿ç”¨ç¯„ä¾‹</h3>
                
                <h4>PM-Agent å»ºç«‹ä»»å‹™ï¼š</h4>
                <div class="code-block">
# 1. å»ºç«‹æ–°ä»»å‹™æª”æ¡ˆ
echo '{"id": "task-003", "title": "å¯¦ä½œä½¿ç”¨è€…èªè­‰", ...}' > .claude-bus/tasks/task-003.json

# 2. è¨˜éŒ„äº‹ä»¶
echo '{"timestamp": "2025-01-15T13:00:00Z", "agent": "PM", "event": "task_created", "task_id": "task-003"}' >> .claude-bus/events.jsonl
                </div>

                <h4>Backend-Agent èªé ˜ä»»å‹™ï¼š</h4>
                <div class="code-block">
# 1. è®€å–å¾…è¾¦ä»»å‹™
cat .claude-bus/tasks/*.json | jq 'select(.status == "pending")'

# 2. æ›´æ–°ä»»å‹™ç‹€æ…‹
jq '.status = "in-progress" | .assignee = "Backend-Agent"' .claude-bus/tasks/task-003.json > temp.json
mv temp.json .claude-bus/tasks/task-003.json

# 3. è¨˜éŒ„èªé ˜äº‹ä»¶
echo '{"timestamp": "...", "agent": "Backend", "event": "task_claimed", "task_id": "task-003"}' >> .claude-bus/events.jsonl
                </div>

                <h4>è«‹æ±‚å”åŠ©ï¼š</h4>
                <div class="code-block">
# Backend-Agent é‡åˆ°å•é¡Œï¼Œå»ºç«‹æ±‚åŠ©è«‹æ±‚
echo '{
  "request_id": "help-002",
  "requester": "Backend-Agent",
  "issue": "JWT token é©—è­‰å¤±æ•—",
  "priority": "high"
}' > .claude-bus/help/request-002.json
                </div>

                <div class="warning-box">
                    <strong>âš ï¸ é‡è¦è¦å‰‡ï¼š</strong><br>
                    1. <strong>æ°¸ä¸ç›´æ¥ä¿®æ”¹ events.jsonl ä¸­å·²å­˜åœ¨çš„è¡Œ</strong>ï¼ˆåªèƒ½ appendï¼‰<br>
                    2. <strong>æ¯å€‹ä»»å‹™ç¨ç«‹æª”æ¡ˆ</strong>ï¼Œé¿å…åŒæ™‚ç·¨è¼¯è¡çª<br>
                    3. <strong>ä½¿ç”¨ JSON æ ¼å¼</strong>ç¢ºä¿çµæ§‹åŒ–å’Œå¯è§£ææ€§<br>
                    4. <strong>æ™‚é–“æˆ³ä½¿ç”¨ ISO 8601</strong> æ ¼å¼ä¿æŒä¸€è‡´æ€§
                </div>
            </div>

            <!-- Tech Stack -->
            <div class="grid">
                <div class="section">
                    <h2><span class="icon">âš¡</span> Technology Stack</h2>
                    <div>
                        <span class="tech-badge">Frontend: Svelte + SvelteKit</span>
                        <span class="tech-badge">Backend: FastAPI (Python 3.11+)</span>
                        <span class="tech-badge">LLM: llama.cpp (Gemma-3)</span>
                        <span class="tech-badge">RAG: LightRAG</span>
                        <span class="tech-badge">Vector DB: ChromaDB</span>
                        <span class="tech-badge">Database: SQLite</span>
                        <span class="tech-badge">WebSocket: Real-time</span>
                        <span class="tech-badge">GPU: RTX 5090 + 4070</span>
                    </div>
                </div>
                
                <div class="section">
                    <h2><span class="icon">ğŸ¤–</span> AI Agents Team</h2>
                    <div class="agent-card">
                        <strong>PM-Agent</strong>
                        <div class="agent-model">å…¨è‡ªå‹•èª¿åº¦æ¨¡å¼ | Sonnet 4</div>
                    </div>
                    <div class="agent-card">
                        <strong>Super-Agent</strong>
                        <div class="agent-model">æ¶æ§‹è¦åŠƒ & æŠ€è¡“æ•‘æ´ | Opus 4.1</div>
                    </div>
                    <div class="agent-card">
                        <strong>Backend-Agent</strong>
                        <div class="agent-model">API & LLM æ•´åˆ | Sonnet 4</div>
                    </div>
                    <div class="agent-card">
                        <strong>Frontend-Agent</strong>
                        <div class="agent-model">å‰ç«¯é–‹ç™¼ | Sonnet 4</div>
                    </div>
                    <div class="agent-card">
                        <strong>QA-Agent</strong>
                        <div class="agent-model">æ¸¬è©¦èˆ‡é©—è­‰ | Sonnet 4</div>
                    </div>
                    <div class="agent-card">
                        <strong>Doc-Agent</strong>
                        <div class="agent-model">æ–‡æª”ç”Ÿæˆ | Sonnet 4</div>
                    </div>
                </div>
            </div>
            
            <!-- System Architecture -->
            <div class="section">
                <h2><span class="icon">ğŸ—ï¸</span> System Architecture</h2>
                <div class="architecture-diagram">
                    <pre>
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         User Interface                            â”‚
â”‚                      Svelte + SvelteKit                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚ WebSocket
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        FastAPI Backend                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚   Auth API   â”‚  â”‚   Chat API   â”‚  â”‚  Upload API  â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                 â”‚                 â”‚
         â–¼                 â–¼                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  llama.cpp   â”‚  â”‚   LightRAG   â”‚  â”‚    SQLite    â”‚
â”‚   (Gemma-3)  â”‚  â”‚  (ChromaDB)  â”‚  â”‚  (Projects)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    </pre>
                </div>
            </div>
            
            <!-- API Endpoints -->
            <div class="grid">
                <div class="section">
                    <h2><span class="icon">ğŸ”Œ</span> Core API Endpoints</h2>
                    <div class="api-endpoint">
                        <span><span class="method">POST</span> /api/chat</span>
                        <span>Chat interface</span>
                    </div>
                    <div class="api-endpoint">
                        <span><span class="method">POST</span> /api/projects</span>
                        <span>Create project</span>
                    </div>
                    <div class="api-endpoint">
                        <span><span class="method">POST</span> /api/upload</span>
                        <span>File upload</span>
                    </div>
                    <div class="api-endpoint">
                        <span><span class="method">GET</span> /api/history</span>
                        <span>Chat history</span>
                    </div>
                    <div class="api-endpoint">
                        <span><span class="method">WS</span> /ws</span>
                        <span>WebSocket</span>
                    </div>
                </div>
                
                <!-- Key Features -->
                <div class="section">
                    <h2><span class="icon">âœ¨</span> Key Features</h2>
                    <ul>
                        <li>âœ… Complete local deployment for privacy</li>
                        <li>âœ… Multi-project management</li>
                        <li>âœ… LightRAG knowledge management</li>
                        <li>âœ… PDF, Word, TXT file support</li>
                        <li>âœ… Real-time WebSocket chat</li>
                        <li>âœ… Dual GPU optimization</li>
                        <li>âœ… PM-Agent orchestration</li>
                        <li>âœ… Super-Agent problem solving</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <div class="footer">
            <h3>Project Metadata</h3>
            <div class="meta-info">
                <div class="meta-item">
                    <span>ğŸ“</span>
                    <span>Location: D:\gpt-oss</span>
                </div>
                <div class="meta-item">
                    <span>ğŸ—ï¸</span>
                    <span>Architecture: Multi-Agent with MCP</span>
                </div>
                <div class="meta-item">
                    <span>ğŸ¯</span>
                    <span>Phase: Development</span>
                </div>
                <div class="meta-item">
                    <span>ğŸ“…</span>
                    <span>Timeline: 8 days</span>
                </div>
            </div>
        </div>
    </div>
</body>
</html>