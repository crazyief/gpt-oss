/**
 * Global CSS - Modern, Beautiful Design System
 *
 * Purpose: Modern ChatGPT-inspired design with gradients, shadows, and smooth animations
 *
 * File structure:
 * 1. Tailwind directives (base, components, utilities)
 * 2. Custom base styles with modern typography
 * 3. Smooth scrollbar styling
 * 4. PrismJS syntax highlighting theme
 */

/* Tailwind CSS directives */
@tailwind base;
@tailwind components;
@tailwind utilities;

/**
 * Theme System - CSS Variables
 * Supports: dark, matrix, light themes
 */

/* Dark Theme (Default) */
:root,
:root[data-theme="dark"] {
	/* Backgrounds */
	--bg-primary: #0f172a;
	--bg-secondary: #1e293b;
	--bg-tertiary: #334155;
	--bg-elevated: #1e293b;
	--bg-input: #0f172a;
	--bg-hover: #334155;

	/* Text */
	--text-primary: #f8fafc;
	--text-secondary: #94a3b8;
	--text-muted: #64748b;
	--text-inverse: #0f172a;

	/* Borders */
	--border-primary: rgba(255, 255, 255, 0.1);
	--border-secondary: rgba(255, 255, 255, 0.05);

	/* Accents */
	--accent: #3b82f6;
	--accent-hover: #60a5fa;
	--accent-muted: rgba(59, 130, 246, 0.2);

	/* Status */
	--success: #22c55e;
	--warning: #f59e0b;
	--error: #ef4444;

	/* Messages */
	--user-bg: rgba(59, 130, 246, 0.15);
	--user-border: rgba(59, 130, 246, 0.3);
	--assistant-bg: rgba(255, 255, 255, 0.05);
	--assistant-border: rgba(255, 255, 255, 0.1);

	/* Shadows */
	--shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.3);
	--shadow-md: 0 4px 12px rgba(0, 0, 0, 0.4);
	--shadow-lg: 0 10px 40px rgba(0, 0, 0, 0.5);

	/* Scrollbar */
	--scrollbar-thumb: #475569;
	--scrollbar-track: transparent;
}

/* Matrix Theme - Black & Green */
:root[data-theme="matrix"] {
	/* Backgrounds */
	--bg-primary: #0a0a0a;
	--bg-secondary: #0d1a0d;
	--bg-tertiary: #1a2e1a;
	--bg-elevated: #0d1a0d;
	--bg-input: #050505;
	--bg-hover: #1a2e1a;

	/* Text */
	--text-primary: #00ff41;
	--text-secondary: #00cc33;
	--text-muted: #009926;
	--text-inverse: #0a0a0a;

	/* Borders */
	--border-primary: rgba(0, 255, 65, 0.3);
	--border-secondary: rgba(0, 255, 65, 0.15);

	/* Accents */
	--accent: #00ff41;
	--accent-hover: #33ff66;
	--accent-muted: rgba(0, 255, 65, 0.2);

	/* Status */
	--success: #00ff41;
	--warning: #ffff00;
	--error: #ff0040;

	/* Messages */
	--user-bg: rgba(0, 255, 65, 0.1);
	--user-border: rgba(0, 255, 65, 0.3);
	--assistant-bg: rgba(0, 255, 65, 0.05);
	--assistant-border: rgba(0, 255, 65, 0.15);

	/* Shadows */
	--shadow-sm: 0 1px 2px rgba(0, 255, 65, 0.1);
	--shadow-md: 0 4px 12px rgba(0, 255, 65, 0.15);
	--shadow-lg: 0 10px 40px rgba(0, 255, 65, 0.2);

	/* Scrollbar */
	--scrollbar-thumb: #00992a;
	--scrollbar-track: transparent;
}

/* Light Theme */
:root[data-theme="light"] {
	/* Backgrounds */
	--bg-primary: #ffffff;
	--bg-secondary: #f8fafc;
	--bg-tertiary: #f1f5f9;
	--bg-elevated: #ffffff;
	--bg-input: #ffffff;
	--bg-hover: #e2e8f0;

	/* Text */
	--text-primary: #1e293b;
	--text-secondary: #64748b;
	--text-muted: #94a3b8;
	--text-inverse: #ffffff;

	/* Borders */
	--border-primary: #e2e8f0;
	--border-secondary: #f1f5f9;

	/* Accents */
	--accent: #3b82f6;
	--accent-hover: #2563eb;
	--accent-muted: rgba(59, 130, 246, 0.1);

	/* Status */
	--success: #22c55e;
	--warning: #f59e0b;
	--error: #ef4444;

	/* Messages */
	--user-bg: #eff6ff;
	--user-border: #dbeafe;
	--assistant-bg: #f9fafb;
	--assistant-border: #e5e7eb;

	/* Shadows */
	--shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
	--shadow-md: 0 4px 12px rgba(0, 0, 0, 0.1);
	--shadow-lg: 0 10px 40px rgba(0, 0, 0, 0.15);

	/* Scrollbar */
	--scrollbar-thumb: #cbd5e1;
	--scrollbar-track: transparent;
}

/**
 * Custom base styles - Modern & Elegant
 */
@layer base {
	/* Box sizing reset for consistent layout */
	*,
	*::before,
	*::after {
		box-sizing: border-box;
	}

	/* Remove default margins */
	* {
		margin: 0;
	}

	/* Body defaults - Modern typography with theme support */
	body {
		line-height: 1.6;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Inter', 'Roboto', 'Helvetica Neue', sans-serif;
		letter-spacing: -0.01em;
		background-color: var(--bg-primary);
		color: var(--text-primary);
		transition: background-color 0.3s ease, color 0.3s ease;
	}

	/* Improve media element defaults */
	img,
	picture,
	video,
	canvas,
	svg {
		display: block;
		max-width: 100%;
	}

	/* Remove built-in form typography */
	input,
	button,
	textarea,
	select {
		font: inherit;
	}

	/* Avoid text overflow */
	p,
	h1,
	h2,
	h3,
	h4,
	h5,
	h6 {
		overflow-wrap: break-word;
	}

	/* Smooth scrolling globally */
	html {
		scroll-behavior: smooth;
	}
}

/**
 * Custom component styles
 *
 * Reusable component classes
 */
@layer components {
	/* Button base styles */
	.btn {
		@apply px-4 py-2 rounded-lg font-medium transition-colors duration-200;
		@apply focus:outline-none focus:ring-2 focus:ring-offset-2;
	}

	.btn-primary {
		@apply bg-primary-500 text-white hover:bg-primary-600;
		@apply focus:ring-primary-500;
	}

	.btn-secondary {
		@apply bg-neutral-200 text-neutral-700 hover:bg-neutral-300;
		@apply focus:ring-neutral-500;
	}

	/* Input base styles */
	.input {
		@apply w-full px-3 py-2 border border-neutral-300 rounded-lg;
		@apply focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent;
		@apply transition-shadow duration-200;
	}

	/* Card component */
	.card {
		@apply bg-white rounded-lg shadow-chat border border-neutral-200;
	}
}

/**
 * Modern scrollbar styling with theme support
 */
::-webkit-scrollbar {
	width: 8px;
	height: 8px;
}

::-webkit-scrollbar-track {
	background: var(--scrollbar-track);
}

::-webkit-scrollbar-thumb {
	background: var(--scrollbar-thumb);
	border-radius: 4px;
	transition: background 0.3s ease;
}

::-webkit-scrollbar-thumb:hover {
	background: var(--accent);
}

/* Firefox scrollbar */
* {
	scrollbar-width: thin;
	scrollbar-color: var(--scrollbar-thumb) var(--scrollbar-track);
}

/**
 * Smooth entrance animations
 */
@keyframes fadeIn {
	from {
		opacity: 0;
	}
	to {
		opacity: 1;
	}
}

@keyframes slideUp {
	from {
		opacity: 0;
		transform: translateY(10px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

@keyframes slideIn {
	from {
		opacity: 0;
		transform: translateX(-10px);
	}
	to {
		opacity: 1;
		transform: translateX(0);
	}
}

@keyframes shimmer {
	0% {
		background-position: -1000px 0;
	}
	100% {
		background-position: 1000px 0;
	}
}

/**
 * PrismJS syntax highlighting theme - Modern & Beautiful
 */
code[class*='language-'],
pre[class*='language-'] {
	font-family: 'JetBrains Mono', 'Fira Code', 'Consolas', 'Monaco', monospace;
	font-size: 0.875rem;
	line-height: 1.6;
	direction: ltr;
	text-align: left;
	white-space: pre;
	word-spacing: normal;
	word-break: normal;
	tab-size: 4;
	hyphens: none;
}

/* Code blocks - Modern glassmorphism style */
pre[class*='language-'] {
	padding: 1.25rem;
	margin: 0.75rem 0;
	overflow: auto;
	background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
	border: 1px solid #e2e8f0;
	border-radius: 0.75rem;
	box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05), inset 0 1px 0 rgba(255, 255, 255, 0.8);
}

/* Inline code - Elegant pill style */
:not(pre) > code[class*='language-'] {
	padding: 0.15rem 0.5rem;
	background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
	color: #1e40af;
	border-radius: 0.375rem;
	white-space: normal;
	font-weight: 500;
	border: 1px solid #bfdbfe;
}
